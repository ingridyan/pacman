# finger bullet
import pygame
from friends import Person


class Bullet:

    def __init__(self, screen, x, y, yRate, isFiring, shooter):
        self.screen = screen
        self.x = x
        self.y = y
        self.yRate = yRate
        self.isFiring = isFiring
        self.shooter = shooter

        self.bullet = pygame.image.load('fingers.png')
        self.bullet = pygame.transform.scale(self.bullet, (40, 40))

    def moveAndDrawBullet(self):
        # bullet movement
        if self.y <= 0:
            self.y = self.shooter.getY()
            if self.shooter.getIsFacingRight():
                self.x = self.shooter.getX() + 50
            else:
                self.x = self.shooter.getX() - 50
            self.isFiring = False
        if self.isFiring:
            self.y -= self.yRate
            self.screen.blit(self.bullet, self.x, self.y)

    def RespondKeyDownEvent(self, event):
        if event.key == pygame.K_SPACE:
            if not self.isFiring:
                self.isFiring = True
                self.y = self.shooter.getY()
                if self.shooter.getIsFacingRight():
                    self.x = self.shooter.getX() + 50
                else:
                    self.x = self.shooter.getX() - 50
                self.screen.blit(self.bullet, self.x, self.y)

    def getX(self):
        return self.x;

    def getY(self):
        return self.y;
